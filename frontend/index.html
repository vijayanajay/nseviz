<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Indian Stock Market Heatmap</title>
  <link rel="stylesheet" href="base.css">
  <link rel="stylesheet" href="components.css">
  <link rel="stylesheet" href="layouts.css">
  <link rel="stylesheet" href="dark-mode.css">
</head>
<body>
  <nav id="navbar">
    <img src="logo.svg" alt="NSEViz Logo" id="logo" width="36" height="36">
    <span class="navbar-title">Indian Stock Market Heatmap</span>
    <span id="date">2025-04-25</span>
    <input type="date" id="datepicker" aria-label="Select date">
  </nav>
  <div id="loading-spinner" hidden>Loadingâ€¦</div>
  <div id="error-message" hidden></div>
  <!-- Test-only: Load Data button for Cypress UI event testing -->
  <button id="test-load-btn" style="position:absolute;left:-9999px;top:-9999px;">Load Data</button>
  <div style="display:flex;gap:1rem;margin:1rem 0;">
    <label for="index-dropdown">Index:</label>
    <select id="index-dropdown"></select>
    <label for="sector-dropdown">Sector:</label>
    <select id="sector-dropdown"></select>
  </div>
  <div id="heatmap"></div>
  <div id="treemap"></div>
  <!-- Heatmap Color Legend UI -->
  <div data-testid="heatmap-legend" class="heatmap-legend">
    <div class="legend-swatch" style="background:#E02424"></div><span class="legend-label">&lt; -3%</span>
    <div class="legend-swatch" style="background:#EF4444"></div><span class="legend-label">-1% to -3%</span>
    <div class="legend-swatch" style="background:#F87171"></div><span class="legend-label">0% to -1%</span>
    <div class="legend-swatch" style="background:#34D399"></div><span class="legend-label">0% to +1%</span>
    <div class="legend-swatch" style="background:#10B981"></div><span class="legend-label">+1% to +3%</span>
    <div class="legend-swatch" style="background:#059669"></div><span class="legend-label">&gt; +3%</span>
  </div>
  <div class="card">Test Card</div>
  <span class="pill active">Finance</span>
  <span class="pill inactive">IT</span>
  <span class="pill disabled">Energy</span>
  <div class="tabs">
    <button class="tab active">Overview</button>
    <button class="tab">Details</button>
  </div>
  <div id="index-selector"></div>
  <footer id="footer"></footer>
  <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
